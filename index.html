<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#191414">
    <title>Namrata Wrapped 2025 üíï</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Circular+Std:wght@300;400;500;700;900&family=Montserrat:wght@300;400;600;700;800;900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="preload" as="video" href="happi.mp4">
    <style>
        /* ==================== SPOTIFY-STYLE VARIABLES ==================== */
        :root {
            --spotify-green: #1DB954;
            --spotify-black: #191414;
            --spotify-dark: #121212;
            --spotify-gray: #282828;
            --spotify-light-gray: #B3B3B3;
            --spotify-white: #FFFFFF;
            --spotify-hover: #1ed760;
            
            --gradient-purple: linear-gradient(180deg, #AF2896 0%, #509BF5 100%);
            --gradient-blue: linear-gradient(180deg, #2E77D0 0%, #11B3BC 100%);
            --gradient-orange: linear-gradient(180deg, #F37335 0%, #FDC830 100%);
            --gradient-pink: linear-gradient(180deg, #FC466B 0%, #3F5EFB 100%);
            --gradient-green: linear-gradient(180deg, #11998E 0%, #38EF7D 100%);
            --gradient-red: linear-gradient(180deg, #E55D87 0%, #5FC3E4 100%);
            --gradient-gold: linear-gradient(180deg, #FFD700 0%, #FF6B6B 100%);
            
            --font-primary: 'Poppins', -apple-system, BlinkMacSystemFont, sans-serif;
            --font-display: 'Montserrat', sans-serif;
            
            --ease-out: cubic-bezier(0.16, 1, 0.3, 1);
            --ease-spring: cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        /* ==================== RESET & BASE ==================== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        html, body {
            width: 100%;
            height: 100%;
            overflow: hidden;
            font-family: var(--font-primary);
            background: var(--spotify-black);
            color: var(--spotify-white);
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        body {
            position: fixed;
            overscroll-behavior: none;
        }

        /* ==================== QUESTION SCREENS ==================== */
        .question-screen {
            position: fixed;
            inset: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: clamp(1.5rem, 5vw, 3rem);
            z-index: 9999;
            opacity: 0;
            transform: scale(0.95);
            pointer-events: none;
            transition: all 0.6s var(--ease-out);
        }

        .question-screen.active {
            opacity: 1;
            transform: scale(1);
            pointer-events: all;
        }

        .question-screen.exiting {
            opacity: 0;
            transform: scale(1.05);
        }

        #question1 { background: var(--gradient-purple); }
        #question2 { background: var(--gradient-blue); }

        .question-container {
            background: rgba(0, 0, 0, 0.4);
            backdrop-filter: blur(60px) saturate(180%);
            -webkit-backdrop-filter: blur(60px) saturate(180%);
            border-radius: clamp(1.5rem, 4vw, 2.5rem);
            padding: clamp(2rem, 6vw, 4rem);
            max-width: 500px;
            width: 100%;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
        }

        .question-icon {
            font-size: clamp(3rem, 10vw, 5rem);
            margin-bottom: clamp(1rem, 3vw, 2rem);
            display: inline-block;
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-15px); }
        }

        .question-title {
            font-family: var(--font-display);
            font-size: clamp(1.5rem, 5vw, 2.5rem);
            font-weight: 900;
            margin-bottom: clamp(0.5rem, 2vw, 1rem);
            letter-spacing: -0.03em;
            line-height: 1.2;
        }

        .question-hint {
            font-size: clamp(0.9rem, 3vw, 1.1rem);
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: clamp(1.5rem, 4vw, 2.5rem);
            font-weight: 400;
            line-height: 1.5;
        }

        .question-input {
            width: 100%;
            padding: clamp(1rem, 3vw, 1.5rem);
            font-size: clamp(1rem, 3.5vw, 1.3rem);
            font-family: var(--font-primary);
            font-weight: 600;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 50px;
            background: rgba(255, 255, 255, 0.15);
            color: var(--spotify-white);
            text-align: center;
            outline: none;
            transition: all 0.3s var(--ease-out);
            letter-spacing: 0.5px;
        }

        .question-input:focus {
            border-color: rgba(255, 255, 255, 0.6);
            background: rgba(255, 255, 255, 0.2);
            box-shadow: 0 8px 32px rgba(255, 255, 255, 0.15);
            transform: translateY(-2px);
        }

        .question-input::placeholder {
            color: rgba(255, 255, 255, 0.5);
            font-weight: 400;
        }

        .question-button {
            width: 100%;
            padding: clamp(1rem, 3vw, 1.5rem);
            margin-top: clamp(1rem, 3vw, 1.5rem);
            background: var(--spotify-white);
            color: var(--spotify-black);
            border: none;
            border-radius: 50px;
            font-size: clamp(1rem, 3.5vw, 1.2rem);
            font-weight: 800;
            font-family: var(--font-primary);
            cursor: pointer;
            transition: all 0.3s var(--ease-spring);
            text-transform: uppercase;
            letter-spacing: 1.5px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .question-button:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4);
        }

        .question-button:active {
            transform: translateY(-1px) scale(0.99);
        }

        .question-error {
            color: #FF4B4B;
            margin-top: clamp(0.75rem, 2vw, 1rem);
            font-size: clamp(0.85rem, 2.5vw, 1rem);
            font-weight: 600;
            opacity: 0;
            transition: opacity 0.3s var(--ease-out);
            text-shadow: 0 2px 10px rgba(255, 75, 75, 0.3);
        }

        .question-error.show {
            opacity: 1;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-8px); }
            20%, 40%, 60%, 80% { transform: translateX(8px); }
        }

        /* ==================== MAIN APP ==================== */
        .app {
            position: fixed;
            inset: 0;
            display: none;
            opacity: 0;
            transition: opacity 0.8s var(--ease-out);
        }

        .app.active {
            display: block;
            opacity: 1;
        }

        /* ==================== PROGRESS BAR ==================== */
        .progress-bar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: rgba(255, 255, 255, 0.1);
            z-index: 1000;
        }

        .progress-fill {
            height: 100%;
            background: var(--spotify-green);
            width: 0%;
            transition: width 0.5s var(--ease-out);
            box-shadow: 0 0 15px var(--spotify-green);
        }

        /* ==================== SLIDES ==================== */
        .slides-container {
            position: relative;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }

        .slide {
            position: absolute;
            inset: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: clamp(1.5rem, 5vw, 3rem);
            opacity: 0;
            transform: translateX(100%);
            transition: all 0.6s var(--ease-out);
            overflow-y: auto;
            overflow-x: hidden;
        }

        .slide.active {
            opacity: 1;
            transform: translateX(0);
            z-index: 2;
        }

        .slide.prev {
            transform: translateX(-100%);
        }

        .slide-content {
            max-width: 600px;
            width: 100%;
            text-align: center;
            position: relative;
            padding-bottom: clamp(7rem, 18vw, 10rem);
        }

        /* ==================== SLIDE BACKGROUNDS ==================== */
        .slide[data-slide="0"] { background: var(--gradient-purple); }
        .slide[data-slide="1"] { background: var(--gradient-blue); }
        .slide[data-slide="2"] { background: var(--gradient-orange); }
        .slide[data-slide="3"] { background: var(--gradient-pink); }
        .slide[data-slide="4"] { background: var(--gradient-green); }
        .slide[data-slide="5"] { background: var(--gradient-red); }
        .slide[data-slide="6"] { background: var(--gradient-gold); }
        .slide[data-slide="7"] { background: linear-gradient(180deg, #000000 0%, #1DB954 100%); }

        /* ==================== TYPOGRAPHY ==================== */
        .slide-overline {
            font-size: clamp(0.75rem, 2.5vw, 0.9rem);
            text-transform: uppercase;
            letter-spacing: 3px;
            font-weight: 700;
            margin-bottom: clamp(0.75rem, 2vw, 1.5rem);
            opacity: 0.9;
        }

        .slide-title {
            font-family: var(--font-display);
            font-size: clamp(2rem, 8vw, 4rem);
            font-weight: 900;
            margin-bottom: clamp(1rem, 3vw, 2rem);
            letter-spacing: -0.04em;
            line-height: 1.1;
            text-transform: uppercase;
            word-wrap: break-word;
            overflow-wrap: break-word;
            hyphens: none;
        }

        .slide-subtitle {
            font-size: clamp(1.1rem, 4vw, 1.5rem);
            margin-bottom: clamp(1.5rem, 4vw, 2.5rem);
            font-weight: 400;
            opacity: 0.95;
            line-height: 1.5;
        }

        .slide-text {
            font-size: clamp(1rem, 3.5vw, 1.2rem);
            line-height: 1.7;
            margin-bottom: clamp(1.5rem, 4vw, 2rem);
            opacity: 0.9;
            font-weight: 400;
        }

        /* ==================== STATS CARD ==================== */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: clamp(1rem, 3vw, 1.5rem);
            margin: clamp(2rem, 5vw, 3rem) 0;
        }
        
        @media (max-width: 480px) {
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        .stat-card {
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(20px);
            border-radius: clamp(1rem, 3vw, 1.5rem);
            padding: clamp(1.5rem, 4vw, 2rem);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: transform 0.3s var(--ease-out);
        }

        .stat-card:hover {
            transform: translateY(-5px);
        }

        .stat-value {
            font-size: clamp(2rem, 6vw, 3rem);
            font-weight: 900;
            font-family: var(--font-display);
            margin-bottom: 0.5rem;
            line-height: 1;
        }

        .stat-label {
            font-size: clamp(0.85rem, 2.5vw, 1rem);
            opacity: 0.8;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 600;
        }

        /* ==================== IMAGE CARD ==================== */
        .image-card {
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(20px);
            border-radius: clamp(1rem, 3vw, 1.5rem);
            padding: clamp(1rem, 3vw, 1.5rem);
            border: 1px solid rgba(255, 255, 255, 0.1);
            margin: clamp(1.5rem, 4vw, 2rem) 0;
            overflow: hidden;
        }

        .image-placeholder {
            width: 100%;
            aspect-ratio: 1;
            background: rgba(255, 255, 255, 0.1);
            border-radius: clamp(0.5rem, 2vw, 1rem);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: clamp(0.85rem, 2.5vw, 1rem);
            color: rgba(255, 255, 255, 0.6);
            margin-bottom: clamp(0.75rem, 2vw, 1rem);
            font-weight: 600;
            letter-spacing: 0.5px;
        }

        .image-name {
            font-size: clamp(0.9rem, 3vw, 1.1rem);
            font-weight: 700;
            letter-spacing: 0.5px;
        }

        /* ==================== YES/NO BUTTONS ==================== */
        .choice-container {
            display: flex;
            flex-direction: column;
            gap: clamp(1rem, 3vw, 1.5rem);
            margin-top: clamp(2rem, 5vw, 3rem);
            width: 100%;
            max-width: 400px;
            margin-left: auto;
            margin-right: auto;
        }

        .choice-button {
            padding: clamp(1.2rem, 3.5vw, 1.8rem);
            border-radius: 50px;
            font-size: clamp(1.1rem, 4vw, 1.4rem);
            font-weight: 800;
            font-family: var(--font-primary);
            cursor: pointer;
            transition: all 0.3s var(--ease-spring);
            text-transform: uppercase;
            letter-spacing: 2px;
            border: none;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            position: relative;
        }

        .yes-button {
            background: var(--spotify-white);
            color: var(--spotify-black);
        }

        .yes-button:hover {
            background: #f0f0f0;
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4);
        }

        .yes-button:active {
            transform: translateY(-1px) scale(0.99);
        }

        .no-button {
            background: rgba(255, 255, 255, 0.1);
            color: var(--spotify-white);
            border: 2px solid rgba(255, 255, 255, 0.3);
            transition: all 0.2s var(--ease-out);
        }

        .no-button:active,
        .no-button.clicked {
            animation: dodge 0.3s var(--ease-spring);
        }

        @keyframes dodge {
            0% { transform: translate(0, 0) scale(1); }
            50% { transform: translate(calc(var(--dodge-x) / 2), calc(var(--dodge-y) / 2)) scale(1.1); }
            100% { transform: translate(var(--dodge-x), var(--dodge-y)) scale(1); }
        }

        /* ==================== NAVIGATION ==================== */
        .nav-dots {
            position: fixed;
            bottom: clamp(2rem, 5vw, 3rem);
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 10px;
            z-index: 100;
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(20px);
            padding: 12px 20px;
            border-radius: 50px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .nav-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.4);
            border: none;
            cursor: pointer;
            transition: all 0.3s var(--ease-out);
            padding: 0;
        }

        .nav-dot.active {
            width: 24px;
            border-radius: 4px;
            background: var(--spotify-white);
        }

        .nav-dot:hover {
            background: rgba(255, 255, 255, 0.7);
        }

        .nav-button {
            position: fixed;
            top: 50%;
            transform: translateY(-50%);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: rgba(0, 0, 0, 0.4);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: var(--spotify-white);
            font-size: 20px;
            cursor: pointer;
            z-index: 100;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s var(--ease-out);
        }

        .nav-button:hover {
            background: rgba(0, 0, 0, 0.6);
            transform: translateY(-50%) scale(1.1);
        }

        .nav-button:active {
            transform: translateY(-50%) scale(0.95);
        }

        .prev-button { left: clamp(1rem, 3vw, 2rem); }
        .next-button { right: clamp(1rem, 3vw, 2rem); }

        @media (max-width: 768px) {
            .nav-button {
                width: 44px;
                height: 44px;
                font-size: 18px;
            }
        }

        /* ==================== SWIPE HINT ==================== */
        .swipe-hint {
            position: fixed;
            bottom: clamp(6rem, 14vw, 8rem);
            left: 50%;
            transform: translateX(-50%);
            font-size: clamp(0.8rem, 2.5vw, 0.95rem);
            color: rgba(255, 255, 255, 0.7);
            z-index: 99;
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(20px);
            padding: 10px 20px;
            border-radius: 50px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            font-weight: 600;
            letter-spacing: 0.5px;
            animation: fadeIn 0.5s var(--ease-out);
            pointer-events: none;
        }

        .swipe-hint.hidden {
            opacity: 0;
            pointer-events: none;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateX(-50%) translateY(20px); }
            to { opacity: 1; transform: translateX(-50%) translateY(0); }
        }

        /* ==================== CONFETTI ==================== */
        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            z-index: 9998;
            pointer-events: none;
        }

        @keyframes confetti-fall {
            0% {
                transform: translateY(0) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) rotate(720deg);
                opacity: 0;
            }
        }

        /* ==================== FINAL SLIDE ==================== */
        .final-message {
            font-size: clamp(1.2rem, 4vw, 1.6rem);
            line-height: 1.8;
            margin: clamp(2rem, 5vw, 3rem) 0;
            opacity: 0.95;
            font-weight: 400;
        }

        .heart-icon {
            font-size: clamp(3rem, 10vw, 5rem);
            margin: clamp(1.5rem, 4vw, 2.5rem) 0;
            display: inline-block;
            animation: heartbeat 1.5s ease-in-out infinite;
        }

        @keyframes heartbeat {
            0%, 100% { transform: scale(1); }
            10%, 30% { transform: scale(1.15); }
            20%, 40% { transform: scale(1); }
        }


        .slide.scrollable {
            justify-content: flex-start;
            padding-top: clamp(3rem, 8vw, 5rem);
        }

        /* ==================== PHOTO COLLAGE ==================== */
        .photo-collage {
            position: absolute;
            inset: 0;
            pointer-events: none;
            z-index: 0;
            opacity: 0.15;
        }

        .collage-photo {
            position: absolute;
            width: clamp(80px, 18vw, 140px);
            height: clamp(80px, 18vw, 140px);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            border: 2px solid rgba(255, 255, 255, 0.3);
            animation: float-photo 6s ease-in-out infinite;
            will-change: transform;
        }
        
        @media (max-width: 768px) {
            .collage-photo {
                width: clamp(60px, 15vw, 100px);
                height: clamp(60px, 15vw, 100px);
            }
        }

        .collage-photo:nth-child(odd) {
            animation-delay: 1s;
        }

        .collage-photo:nth-child(even) {
            animation-delay: 2s;
        }

        @keyframes float-photo {
            0%, 100% { transform: translateY(0) rotate(var(--rotation, 0deg)); }
            50% { transform: translateY(-20px) rotate(calc(var(--rotation, 0deg) + 5deg)); }
        }

        .photo-placeholder {
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
            color: rgba(255, 255, 255, 0.6);
            font-weight: 600;
        }

        /* ==================== FINAL SLIDE CELEBRATION ==================== */
        .final-slide {
            background: linear-gradient(180deg, #FF006E 0%, #FFD700 50%, #1DB954 100%) !important;
        }

        .final-content {
            position: relative;
            z-index: 1;
            max-width: 800px;
            margin: 0 auto;
        }

        .celebration-icon {
            font-size: clamp(4rem, 12vw, 6rem);
            margin: clamp(1rem, 3vw, 2rem) 0;
            display: inline-block;
            animation: bounce 1s ease-in-out infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0) scale(1); }
            50% { transform: translateY(-20px) scale(1.1); }
        }

        .celebration-title {
            background: linear-gradient(135deg, #FFD700 0%, #FFF 50%, #FFD700 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            background-size: 200% auto;
            animation: shimmer 3s ease-in-out infinite;
            text-shadow: 0 0 30px rgba(255, 215, 0, 0.5);
        }

        @keyframes shimmer {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .celebration-message {
            font-size: clamp(1.1rem, 3.5vw, 1.4rem);
            font-weight: 500;
            line-height: 1.7;
            margin: clamp(1rem, 3vw, 1.5rem) 0;
        }

        .celebration-subtitle {
            font-family: var(--font-display);
            font-size: clamp(1.3rem, 4vw, 2rem);
            font-weight: 900;
            margin-top: clamp(1.5rem, 4vw, 2rem);
            letter-spacing: 2px;
        }

        .video-container {
            margin: clamp(2rem, 5vw, 3rem) auto;
            border-radius: clamp(1rem, 3vw, 1.5rem);
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
            border: 3px solid rgba(255, 255, 255, 0.3);
            max-width: 500px;
            width: 90%;
            display: block;
        }

        .celebration-video {
            width: 100%;
            height: auto;
            display: block;
        }


        /* ==================== IMAGE LOADING ==================== */
        .image-placeholder, .photo-placeholder {
            position: relative;
            overflow: hidden;
        }
        
        .image-placeholder::before, .photo-placeholder::before {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(
                90deg,
                rgba(255, 255, 255, 0) 0%,
                rgba(255, 255, 255, 0.1) 50%,
                rgba(255, 255, 255, 0) 100%
            );
            animation: shimmer-loading 2s infinite;
        }
        
        @keyframes shimmer-loading {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        

        /* ==================== TOUCH FEEDBACK ==================== */
        .stat-card {
            -webkit-tap-highlight-color: transparent;
            transition: transform 0.3s var(--ease-out), background 0.3s ease;
        }
        
        .stat-card:active {
            transform: translateY(-2px) scale(0.98);
            background: rgba(0, 0, 0, 0.4);
        }
        
        .nav-dot:active {
            transform: scale(1.2);
        }
        
        .choice-button:active {
            transform: translateY(0) scale(0.95) !important;
        }
        
        /* ==================== RESPONSIVE UTILITIES ==================== */
        /* ==================== IMAGE LOADING ==================== */
        .image-placeholder, .photo-placeholder {
            position: relative;
            overflow: hidden;
        }
        
        .image-placeholder::before, .photo-placeholder::before {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(
                90deg,
                rgba(255, 255, 255, 0) 0%,
                rgba(255, 255, 255, 0.1) 50%,
                rgba(255, 255, 255, 0) 100%
            );
            animation: shimmer-loading 2s infinite;
        }
        
        @keyframes shimmer-loading {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        

        /* ==================== TOUCH FEEDBACK ==================== */
        .stat-card {
            -webkit-tap-highlight-color: transparent;
            transition: transform 0.3s var(--ease-out), background 0.3s ease;
        }
        
        .stat-card:active {
            transform: translateY(-2px) scale(0.98);
            background: rgba(0, 0, 0, 0.4);
        }
        
        .nav-dot:active {
            transform: scale(1.2);
        }
        
        .choice-button:active {
            transform: translateY(0) scale(0.95) !important;
        }
        
        /* ==================== RESPONSIVE UTILITIES ==================== */
        @media (max-width: 640px) {
            .slide {
                padding: clamp(1rem, 4vw, 1.5rem);
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
        }

        /* ==================== LOADING ANIMATION ==================== */
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
    </style>
</head>
<body>
    <!-- QUESTION 1: Date We Met -->
    <div id="question1" class="question-screen active">
        <div class="question-container">
            <div class="question-icon">üìÖ</div>
            <h1 class="question-title">When Did We Meet?</h1>
            <p class="question-hint">Just the day number (e.g., 15)</p>
            <input 
                type="tel" 
                id="dateInput" 
                class="question-input" 
                placeholder="Day number"
                maxlength="2"
                autocomplete="off"
            >
            <button id="dateButton" class="question-button">Continue</button>
            <div id="dateError" class="question-error"></div>
        </div>
    </div>

    <!-- QUESTION 2: Special Name -->
    <div id="question2" class="question-screen">
        <div class="question-container">
            <div class="question-icon">üíù</div>
            <h1 class="question-title">What do you call me??</h1>
            <p class="question-hint">PS : I LOVE IT!!</p>
            <input 
                type="text" 
                id="nameInput" 
                class="question-input" 
                placeholder="Enter your special name"
                autocomplete="off"
            >
            <button id="nameButton" class="question-button">Unlock Memories</button>
            <div id="nameError" class="question-error"></div>
        </div>
    </div>

    <!-- MAIN APP -->
    <div class="app">
        <!-- Progress Bar -->
        <div class="progress-bar">
            <div class="progress-fill"></div>
        </div>

        <!-- Swipe Hint -->
        <div class="swipe-hint">Swipe or use arrows to navigate ‚Üí</div>

        <!-- Navigation -->
        <button class="nav-button prev-button" aria-label="Previous slide">‚Äπ</button>
        <button class="nav-button next-button" aria-label="Next slide">‚Ä∫</button>
        <div class="nav-dots"></div>

        <!-- Slides -->
        <div class="slides-container">
            <!-- Slide 1: Welcome -->
            <div class="slide active" data-slide="0">
                <div class="slide-content">
                    <div class="slide-overline">Namrata Wrapped</div>
                    <h1 class="slide-title">Your Year<br>In Review</h1>
                    <p class="slide-subtitle">A journey through our most beautiful moments of 2025</p>
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-value" id="timerDays">0</div>
                            <div class="stat-label">Days</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="timerHours">0</div>
                            <div class="stat-label">Hours</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="timerMinutes">0</div>
                            <div class="stat-label">Minutes</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="timerSeconds">0</div>
                            <div class="stat-label">Seconds</div>
                        </div>
                    </div>
                    <div class="stats-grid" style="margin-top: 1.5rem;">
                        <div class="stat-card" style="grid-column: 1 / -1;">
                            <div class="stat-value" style="font-size: clamp(1.5rem, 4vw, 2rem); word-break: break-all;">9678987889363649263438263643876498324</div>
                            <div class="stat-label">Memories Made</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Slide 2: First Memory -->
            <div class="slide" data-slide="1">
                <div class="slide-content">
                    <div class="slide-overline">Chapter 1</div>
                    <h1 class="slide-title">First Outing</h1>
                    <p class="slide-subtitle">Where it all started...</p>
                    <div class="image-card">
                        <div class="image-placeholder">
                            <img src="first-meeting.jpg" alt="First Meeting" style="width: 100%; border-radius: 1rem; object-fit: cover; aspect-ratio: 1;">
                        </div>
                        <div class="image-name">Our First Hello</div>
                    </div>
                    <p class="slide-text">The day we played Dandiya turned into a cherished moment, bringing us closer than ever.</p>
                </div>
            </div>

            <!-- Slide 3: Favorite Moments -->
            <div class="slide" data-slide="2">
                <div class="slide-content">
                    <div class="slide-overline">Chapter 2</div>
                    <h1 class="slide-title">Best Times</h1>
                    <p class="slide-subtitle">Moments that made us smile</p>
                    <div class="image-card">
                        <div class="image-placeholder">
                            <img src="photo3.jpeg" alt="First Meeting" style="width: 100%; border-radius: 1rem; object-fit: cover; aspect-ratio: 1;">
                        </div>
                        <div class="image-name">Making Memories</div>
                    </div>
                    <p class="slide-text">Every laugh, every adventure, every quiet moment - they all became treasures in my heart.</p>
                </div>
            </div>

            <!-- Slide 4: Inside Jokes -->
            <div class="slide" data-slide="3">
                <div class="slide-content">
                    <div class="slide-overline">Chapter 3</div>
                    <h1 class="slide-title">Our World</h1>
                    <p class="slide-subtitle">The little things only we understand</p>
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-value">100+</div>
                            <div class="stat-label">Inside Jokes</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">24/7</div>
                            <div class="stat-label">On My Mind</div>
                        </div>
                    </div>
                    <p class="slide-text">From silly fights to real understanding, we've built something that's truly ours.</p>
                </div>
            </div>

            <!-- Slide 5: Adventures -->
            <div class="slide" data-slide="4">
                <div class="slide-content">
                    <div class="slide-overline">Chapter 4</div>
                    <h1 class="slide-title">Adventures</h1>
                    <p class="slide-subtitle">Places we explored together</p>
                    <div class="image-card">
                        <div class="image-placeholder">
                            <img src="photo4.jpeg" alt="First Meeting" style="width: 100%; border-radius: 1rem; object-fit: cover; aspect-ratio: 1;">
                        </div>
                        <div class="image-name">Our Journey</div>
                    </div>
                    <p class="slide-text">Every place became magical because I explored it with you by my side.</p>
                </div>
            </div>

            <!-- Slide 6: What I Love -->
            <div class="slide scrollable" data-slide="5">
                <div class="slide-content">
                    <div class="slide-overline">Chapter 5</div>
                    <h1 class="slide-title">What I Love</h1>
                    <p class="slide-subtitle">About you...</p>
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-value">üòä</div>
                            <div class="stat-label">Your Radiant Smile</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">üí´</div>
                            <div class="stat-label">Your Infectious Energy</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">‚ù§Ô∏è</div>
                            <div class="stat-label">Your Pure Heart</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">‚ú®</div>
                            <div class="stat-label">Your Natural Elegance</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">üåü</div>
                            <div class="stat-label">Your Optimism</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">üí≠</div>
                            <div class="stat-label">Your Thoughtfulness</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">üéµ</div>
                            <div class="stat-label">Your Genuine Laughter</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">üå∏</div>
                            <div class="stat-label">Your Gentle Kindness</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">üé®</div>
                            <div class="stat-label">Your Creative Mind</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">üåà</div>
                            <div class="stat-label">Your Authenticity</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">üí™</div>
                            <div class="stat-label">Your Inner Strength</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">ü¶ã</div>
                            <div class="stat-label">Your Graceful Demeanor</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">üå∫</div>
                            <div class="stat-label">Your Timeless Beauty</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">üéØ</div>
                            <div class="stat-label">Your Ambition</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">üåô</div>
                            <div class="stat-label">Your Peaceful Aura</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">‚òÄÔ∏è</div>
                            <div class="stat-label">Your Radiant Warmth</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">üåπ</div>
                            <div class="stat-label">Your Sophistication</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">üíé</div>
                            <div class="stat-label">Your Precious Soul</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">üïäÔ∏è</div>
                            <div class="stat-label">Your Gentle Spirit</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">üé≠</div>
                            <div class="stat-label">Your Expressive Nature</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">üìö</div>
                            <div class="stat-label">Your Intelligence</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">üåç</div>
                            <div class="stat-label">Your Open Mind</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">üéº</div>
                            <div class="stat-label">Your Melodious Voice</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">üåª</div>
                            <div class="stat-label">Your Cheerful Spirit</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">üèÜ</div>
                            <div class="stat-label">Your Excellence</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">üéÄ</div>
                            <div class="stat-label">Your Feminine Charm</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">üíù</div>
                            <div class="stat-label">Your Compassion</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">üå†</div>
                            <div class="stat-label">Your Dreams</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">üé™</div>
                            <div class="stat-label">Your Playful Side</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">üèµÔ∏è</div>
                            <div class="stat-label">Your Refined Taste</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">üåø</div>
                            <div class="stat-label">Your Natural Charm</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">üéá</div>
                            <div class="stat-label">Your Vivacious Energy</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">üå¥</div>
                            <div class="stat-label">Your Refreshing Presence</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">üéÜ</div>
                            <div class="stat-label">Your Brilliant Mind</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">üåæ</div>
                            <div class="stat-label">Your Nurturing Nature</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">üéà</div>
                            <div class="stat-label">Your Uplifting Spirit</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">üå∑</div>
                            <div class="stat-label">Your Delicate Strength</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">üéê</div>
                            <div class="stat-label">Your Harmonious Vibe</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">üåä</div>
                            <div class="stat-label">Your Calming Effect</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">üéé</div>
                            <div class="stat-label">Your Cultural Depth</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">üåµ</div>
                            <div class="stat-label">Your Resilience</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">üéã</div>
                            <div class="stat-label">Your Grounded Nature</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">üåº</div>
                            <div class="stat-label">Your Sweet Disposition</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">üéè</div>
                            <div class="stat-label">Your Adventurous Heart</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">üå±</div>
                            <div class="stat-label">Your Growth Mindset</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">üéë</div>
                            <div class="stat-label">Your Poetic Soul</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">üåπ</div>
                            <div class="stat-label">Your Classic Beauty</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">üéóÔ∏è</div>
                            <div class="stat-label">Your Supportive Nature</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">üåü</div>
                            <div class="stat-label">Your Magnetic Presence</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">üéä</div>
                            <div class="stat-label">Your Joyful Essence</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">üå∏</div>
                            <div class="stat-label">Your Tender Care</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">üé≠</div>
                            <div class="stat-label">Your Captivating Charm</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">üíñ</div>
                            <div class="stat-label">Your Loving Heart</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">üå∫</div>
                            <div class="stat-label">Your Vibrant Personality</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">üéØ</div>
                            <div class="stat-label">Your Focus</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">üéÅ</div>
                            <div class="stat-label">Every Little Thing</div>
                        </div>
                    </div>
                    <p class="slide-text" style="margin-top: 2rem;">You light up every room, make every day better, and fill my life with endless joy. Every moment with you is a treasure I cherish deeply.</p>
                </div>
            </div>

            <!-- Slide 7: The Question -->
            <div class="slide" data-slide="6">
                <div class="slide-content">
                    <div class="slide-overline">The Big Question</div>
                    <h1 class="slide-title">One More Year?</h1>
                    <p class="slide-subtitle">Let's make 2026 even more amazing...</p>
                    <div class="image-card">
                        <div class="image-placeholder">
                            <img src="second.jpg" alt="Together" style="width: 100%; border-radius: 1rem; object-fit: cover; aspect-ratio: 1;">
                        </div>
                        <div class="image-name">Us</div>
                        <h1 class="slide-title">WILL YOU BE MY VALENTINE?</h1>
                    </div>
                    <div class="choice-container">
                        <button class="choice-button yes-button" id="yesButton">Yes! Absolutely! üíï</button>
                        <button class="choice-button no-button" id="noButton">No</button>
                    </div>
                </div>
            </div>

            <!-- Slide 8: Final Message -->
            <div class="slide final-slide" data-slide="7">
                <div class="photo-collage">
                    <!-- All slide images will appear here as collage - replace these with actual img tags -->
                    <div class="collage-photo" style="top: 3%; left: 5%; transform: rotate(-12deg);">
                        <img src="photo10.jpeg" style="width: 100%; height: 100%; object-fit: cover;" alt="Memory">
                    </div>
                    <div class="collage-photo" style="top: 8%; right: 3%; transform: rotate(15deg);">
                        <img src="first-meeting.jpg" style="width: 100%; height: 100%; object-fit: cover;" alt="Memory">
                    </div>
                    <div class="collage-photo" style="top: 25%; left: 2%; transform: rotate(8deg);">
                        <img src="photo3.jpeg" style="width: 100%; height: 100%; object-fit: cover;" alt="Memory">
                    </div>
                    <div class="collage-photo" style="top: 25%; right: 5%; transform: rotate(-10deg);">
                        <img src="photo4.jpeg" style="width: 100%; height: 100%; object-fit: cover;" alt="Memory">
                    </div>
                    <div class="collage-photo" style="top: 50%; left: 8%; transform: rotate(-5deg);">
                        <img src="photo5.jpeg" style="width: 100%; height: 100%; object-fit: cover;" alt="Memory">
                    </div>
                    <div class="collage-photo" style="top: 50%; right: 10%; transform: rotate(12deg);">
                        <img src="photo6.jpeg" style="width: 100%; height: 100%; object-fit: cover;" alt="Memory">
                    </div>
                    <div class="collage-photo" style="bottom: 20%; left: 5%; transform: rotate(10deg);">
                        <img src="photo7.jpeg" style="width: 100%; height: 100%; object-fit: cover;" alt="Memory">
                    </div>
                    <div class="collage-photo" style="bottom: 15%; right: 4%; transform: rotate(-8deg);">
                        <img src="photo8.jpeg" style="width: 100%; height: 100%; object-fit: cover;" alt="Memory">
                    </div>
                    <div class="collage-photo" style="bottom: 5%; left: 15%; transform: rotate(6deg);">
                        <img src="photo9.jpeg" style="width: 100%; height: 100%; object-fit: cover;" alt="Memory">
                    </div>
                    <div class="collage-photo" style="bottom: 8%; right: 12%; transform: rotate(-14deg);">
                        <img src="photo10.jpeg" style="width: 100%; height: 100%; object-fit: cover;" alt="Memory">
                    </div>
                </div>
                
                <div class="slide-content final-content">
                    <div class="celebration-icon">üéâ</div>
                    <h1 class="slide-title celebration-title" style="line-height: 1.2;">YAYYY.<br>YOU SAID YES!</h1>
                    <p class="final-message celebration-message">
                        Another incredible year together! üéä
                    </p>
                    <p class="final-message celebration-message">
                        Every single moment has been AMAZING! From our silly jokes to our deep conversations, 
                        from random adventures to cozy nights in - I wouldn't trade any of it for the world! 
                    </p>
                    <p class="final-message celebration-message">
                        You make life SO much more fun, exciting, and beautiful! 
                        Can't wait for all the amazing things we'll do together! üöÄ
                    </p>
                    
                    <!-- Centered Video -->
                    <div class="video-container">
                        <video autoplay loop muted playsinline class="celebration-video" id="celebration-video">
                            <source src="happi.mp4" type="video/mp4">
                            Your browser illa support this video tag
                        </video>
                    </div>
                    
                    <div class="celebration-icon">‚ú®üíï‚ú®</div>
                    <h2 class="celebration-subtitle">TO INFINITY AND BEYOND! üöÄüí´</h2>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ==================== STATE MANAGEMENT ====================
        const state = {
            currentQuestion: 1,
            currentSlide: 0,
            totalSlides: 7,
            isUnlocked: false,
            isTransitioning: false,
            dodgeCount: 0,
            hasShownSwipeHint: false,
            canAccessFinalSlide: false
        };

        // ==================== DOM ELEMENTS ====================
        const elements = {
            question1: document.getElementById('question1'),
            question2: document.getElementById('question2'),
            dateInput: document.getElementById('dateInput'),
            dateButton: document.getElementById('dateButton'),
            dateError: document.getElementById('dateError'),
            nameInput: document.getElementById('nameInput'),
            nameButton: document.getElementById('nameButton'),
            nameError: document.getElementById('nameError'),
            app: document.querySelector('.app'),
            progressFill: document.querySelector('.progress-fill'),
            slides: null,
            slidesContainer: document.querySelector('.slides-container'),
            navDots: document.querySelector('.nav-dots'),
            prevBtn: document.querySelector('.prev-button'),
            nextBtn: document.querySelector('.next-button'),
            swipeHint: document.querySelector('.swipe-hint'),
            yesButton: document.getElementById('yesButton'),
            noButton: document.getElementById('noButton')
        };

        // ==================== QUESTION 1: DATE ====================
        function handleDateSubmit() {
            const answer = elements.dateInput.value.trim();
            
            if (answer === '7') {
                elements.dateError.textContent = '‚úì Correct!';
                elements.dateError.style.color = '#1DB954';
                elements.dateError.classList.add('show');
                
                setTimeout(() => {
                    elements.question1.classList.add('exiting');
                    setTimeout(() => {
                        elements.question1.classList.remove('active', 'exiting');
                        elements.question2.classList.add('active');
                        elements.nameInput.focus();
                        state.currentQuestion = 2;
                    }, 600);
                }, 500);
            } else {
                elements.dateInput.style.animation = 'shake 0.5s ease';
                elements.dateInput.style.borderColor = '#FF4B4B';
                
                setTimeout(() => {
                    elements.dateInput.style.animation = '';
                }, 500);
                
                elements.dateError.textContent = '‚úó Try again! Think about the day we first met...';
                elements.dateError.style.color = '#FF4B4B';
                elements.dateError.classList.add('show');
                
                setTimeout(() => {
                    elements.dateInput.style.borderColor = 'rgba(255, 255, 255, 0.3)';
                    elements.dateError.classList.remove('show');
                }, 2500);
            }
        }

        elements.dateButton.addEventListener('click', handleDateSubmit);
        elements.dateInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') handleDateSubmit();
        });

        // Only allow numbers in date input
        elements.dateInput.addEventListener('input', (e) => {
            e.target.value = e.target.value.replace(/[^0-9]/g, '');
        });

        // ==================== QUESTION 2: NAME ====================
        function handleNameSubmit() {
            const answer = elements.nameInput.value.trim().toLowerCase();
            const correctAnswers = ['anu','gudu','guddu','bb','smol bb','smolbb'];
            
            if (correctAnswers.includes(answer)) {
                elements.nameError.textContent = '‚úì Perfect! Loading your memories...';
                elements.nameError.style.color = '#1DB954';
                elements.nameError.classList.add('show');
                
                setTimeout(() => {
                    elements.question2.classList.add('exiting');
                    setTimeout(() => {
                        elements.question2.classList.remove('active', 'exiting');
                        elements.app.classList.add('active');
                        state.isUnlocked = true;
                        startTimer(); // Start the timer
                        initializeSlideshow();
                        
                        // Show swipe hint once
                        setTimeout(() => {
                            if (!state.hasShownSwipeHint) {
                                elements.swipeHint.classList.remove('hidden');
                                state.hasShownSwipeHint = true;
                                
                                setTimeout(() => {
                                    elements.swipeHint.classList.add('hidden');
                                }, 4000);
                            }
                        }, 1000);
                    }, 600);
                }, 800);
            } else {
                elements.nameInput.style.animation = 'shake 0.5s ease';
                elements.nameInput.style.borderColor = '#FF4B4B';
                
                setTimeout(() => {
                    elements.nameInput.style.animation = '';
                }, 500);
                
                elements.nameError.textContent = '‚úó That\'s not quite right... Think of what I call you!';
                elements.nameError.style.color = '#FF4B4B';
                elements.nameError.classList.add('show');
                
                setTimeout(() => {
                    elements.nameInput.style.borderColor = 'rgba(255, 255, 255, 0.3)';
                    elements.nameError.classList.remove('show');
                }, 2500);
            }
        }

        elements.nameButton.addEventListener('click', handleNameSubmit);
        elements.nameInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') handleNameSubmit();
        });

        // ==================== SLIDESHOW MANAGEMENT ====================
        function initializeSlideshow() {
            elements.slides = document.querySelectorAll('.slide');
            createNavigationDots();
            updateProgress();
            setupEventListeners();
        }

        function createNavigationDots() {
            elements.navDots.innerHTML = '';
            // Only create dots for slides 0-6 (not the final slide)
            for (let i = 0; i < state.totalSlides; i++) {
                const dot = document.createElement('button');
                dot.className = `nav-dot${i === 0 ? ' active' : ''}`;
                dot.setAttribute('aria-label', `Go to slide ${i + 1}`);
                dot.addEventListener('click', () => goToSlide(i));
                elements.navDots.appendChild(dot);
            }
        }

        function goToSlide(index) {
            if (state.isTransitioning || index === state.currentSlide) return;
            
            // Prevent access to final slide unless yes was clicked
            if (index === state.totalSlides && !state.canAccessFinalSlide) {
                return;
            }
            
            // Prevent going beyond boundaries
            if (index < 0 || index > state.totalSlides) return;
            
            state.isTransitioning = true;
            
            const currentSlideEl = elements.slides[state.currentSlide];
            const nextSlideEl = elements.slides[index];
            
            if (index > state.currentSlide) {
                currentSlideEl.classList.add('prev');
                currentSlideEl.classList.remove('active');
            } else {
                currentSlideEl.classList.remove('active', 'prev');
            }
            
            nextSlideEl.classList.remove('prev');
            nextSlideEl.classList.add('active');
            
            state.currentSlide = index;
            updateProgress();
            updateNavigationDots();
            
            setTimeout(() => {
                state.isTransitioning = false;
            }, 600);
        }

        function updateProgress() {
            const progress = ((state.currentSlide + 1) / (state.totalSlides + 1)) * 100;
            elements.progressFill.style.width = `${progress}%`;
        }

        function updateNavigationDots() {
            const dots = elements.navDots.querySelectorAll('.nav-dot');
            dots.forEach((dot, index) => {
                dot.classList.toggle('active', index === state.currentSlide);
            });
        }

        // ==================== NAVIGATION ====================
        function nextSlide() {
            // Don't allow navigation to final slide unless yes was clicked
            if (state.currentSlide === state.totalSlides - 1 && !state.canAccessFinalSlide) {
                return;
            }
            
            if (state.currentSlide < state.totalSlides) {
                goToSlide(state.currentSlide + 1);
            }
        }

        function prevSlide() {
            if (state.currentSlide > 0) {
                goToSlide(state.currentSlide - 1);
            }
        }

        // ==================== EVENT LISTENERS ====================
        function setupEventListeners() {
            // Navigation buttons
            elements.prevBtn.addEventListener('click', prevSlide);
            elements.nextBtn.addEventListener('click', nextSlide);
            
            // Keyboard navigation
            document.addEventListener('keydown', (e) => {
                if (!state.isUnlocked) return;
                if (e.key === 'ArrowRight') nextSlide();
                if (e.key === 'ArrowLeft') prevSlide();
            });
            
            // Touch swipe
            let touchStartX = 0;
            let touchEndX = 0;
            
            elements.slidesContainer.addEventListener('touchstart', (e) => {
                touchStartX = e.changedTouches[0].screenX;
            }, { passive: true });
            
            elements.slidesContainer.addEventListener('touchend', (e) => {
                touchEndX = e.changedTouches[0].screenX;
                handleSwipe(touchStartX, touchEndX);
            }, { passive: true });
            
            // Yes/No buttons
            elements.yesButton.addEventListener('click', handleYesClick);
            
            // No button - handle both click and touch
            elements.noButton.addEventListener('click', (e) => {
                e.preventDefault();
                dodgeNoButton();
            });
            
            elements.noButton.addEventListener('touchstart', (e) => {
                e.preventDefault();
                dodgeNoButton();
            }, { passive: false });
        }

        function handleSwipe(startX, endX) {
            const threshold = 50;
            const diff = startX - endX;
            
            if (Math.abs(diff) > threshold) {
                if (diff > 0) {
                    nextSlide();
                } else {
                    prevSlide();
                }
            }
        }

        // ==================== YES/NO BUTTON LOGIC ====================
        function dodgeNoButton() {
            state.dodgeCount++;
            
            const button = elements.noButton;
            const container = button.closest('.slide-content');
            const containerRect = container.getBoundingClientRect();
            const btnRect = button.getBoundingClientRect();
            
            // Calculate safe boundaries within the slide content
            const maxX = containerRect.width - btnRect.width - 40;
            const maxY = containerRect.height - btnRect.height - 40;
            
            // Random position within boundaries
            const newX = Math.random() * Math.max(0, maxX - 40) + 20;
            const newY = Math.random() * Math.max(0, maxY - 100) + 50;
            
            // Apply transform with CSS variables for smooth animation
            button.style.setProperty('--dodge-x', `${newX - btnRect.left + containerRect.left}px`);
            button.style.setProperty('--dodge-y', `${newY - btnRect.top + containerRect.top}px`);
            button.classList.add('clicked');
            
            setTimeout(() => {
                button.classList.remove('clicked');
                button.style.position = 'absolute';
                button.style.left = `${newX}px`;
                button.style.top = `${newY}px`;
                button.style.setProperty('--dodge-x', '0px');
                button.style.setProperty('--dodge-y', '0px');
            }, 300);
            
            const messages = [
                'Maybe Not üòè',
                'Think Again üí≠',
                'Not So Fast üèÉ',
                'Nice Try! üòù',
                'Nope! üòÇ',
                'Keep Trying üí´',
                'Can\'t Catch Me üéØ',
                'You Sure? ü§î'
            ];
            
            if (state.dodgeCount <= messages.length) {
                button.textContent = messages[Math.min(state.dodgeCount - 1, messages.length - 1)];
            }
        }

        function handleYesClick() {
            state.canAccessFinalSlide = true;
            createConfetti();
            
            setTimeout(() => {
                goToSlide(state.totalSlides);
                setTimeout(ensureVideoPlays, 500);
                
                // Hide navigation
                elements.navDots.style.transition = 'opacity 0.3s ease';
                elements.prevBtn.style.transition = 'opacity 0.3s ease';
                elements.nextBtn.style.transition = 'opacity 0.3s ease';
                elements.swipeHint.style.transition = 'opacity 0.3s ease';
                
                elements.navDots.style.opacity = '0';
                elements.prevBtn.style.opacity = '0';
                elements.nextBtn.style.opacity = '0';
                elements.swipeHint.style.opacity = '0';
                
                setTimeout(() => {
                    elements.navDots.style.display = 'none';
                    elements.prevBtn.style.display = 'none';
                    elements.nextBtn.style.display = 'none';
                    elements.swipeHint.style.display = 'none';
                }, 300);
            }, 500);
        }

        // ==================== CONFETTI ====================
        function createConfetti() {
            const colors = ['#FF006E', '#8B5CF6', '#3B82F6', '#10B981', '#F59E0B', '#1DB954'];
            const confettiCount = 150;
            const fragment = document.createDocumentFragment();
            
            for (let i = 0; i < confettiCount; i++) {
                setTimeout(() => {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti';
                    confetti.style.cssText = `
                        left: ${Math.random() * 100}vw;
                        top: -10px;
                        width: ${Math.random() * 12 + 6}px;
                        height: ${Math.random() * 12 + 6}px;
                        background: ${colors[Math.floor(Math.random() * colors.length)]};
                        border-radius: ${Math.random() > 0.5 ? '50%' : '0'};
                        animation: confetti-fall ${2 + Math.random() * 2}s linear forwards;
                        transform: rotate(${Math.random() * 360}deg);
                        will-change: transform, opacity;
                    `;
                    
                    document.body.appendChild(confetti);
                    
                    setTimeout(() => confetti.remove(), 5000);
                }, i * 15);
            }
        }


        // ==================== TIMER FUNCTION ====================
        function updateTimer() {
            const startDate = new Date('2025-08-16T20:00:00');
            const now = new Date();
            
            const diff = now - startDate;
            
            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((diff % (1000 * 60)) / 1000);
            
            const timerDays = document.getElementById('timerDays');
            const timerHours = document.getElementById('timerHours');
            const timerMinutes = document.getElementById('timerMinutes');
            const timerSeconds = document.getElementById('timerSeconds');
            
            if (timerDays) timerDays.textContent = days;
            if (timerHours) timerHours.textContent = hours;
            if (timerMinutes) timerMinutes.textContent = minutes;
            if (timerSeconds) timerSeconds.textContent = seconds;
        }
        
        // Start timer when app is unlocked
        let timerInterval = null;
        function startTimer() {
            updateTimer();
            timerInterval = setInterval(updateTimer, 1000);
        }

        // ==================== INITIALIZATION ====================
        window.addEventListener('load', () => {
            elements.dateInput.focus();
        });
        function ensureVideoPlays() {
            const video = document.getElementById('celebrationVideo');
            if (video) {
                // Try to play the video
                const playPromise = video.play();
                
                if (playPromise !== undefined) {
                    playPromise.catch(error => {
                        // Auto-play was prevented, try playing on user interaction
                        console.log("Autoplay prevented, will play on interaction");
                        
                        // Play when user clicks anywhere on the final slide
                        document.addEventListener('click', function playOnClick() {
                            video.play();
                            document.removeEventListener('click', playOnClick);
                        }, { once: true });
                        
                        // Also try on touch for mobile
                        document.addEventListener('touchstart', function playOnTouch() {
                            video.play();
                            document.removeEventListener('touchstart', playOnTouch);
                        }, { once: true });
                    });
                }
            }
        }

    </script>
</body>
</html>
